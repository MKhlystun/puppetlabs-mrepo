# This file is managed by puppet. Any changes to this file will be
# overwritten the next time puppet runs. Update with caution!
[main]
srcdir  = <%= @src_root %>
wwwdir  = <%= @www_root %>
confdir = /etc/mrepo.conf.d

<% if not @http_proxy.empty? -%>
http_proxy = <%= @http_proxy %>
<% end -%>
<% if not @https_proxy.empty? -%>
https_proxy = <%= @https_proxy %>
<% end -%>

<% if not @rhn_username.empty? and not @rhn_password.empty? -%>
rhnlogin = <%= @rhn_username %>:<%= @rhn_password %>
<% elsif not @rhn_username.empty? -%>
rhnlogin = <%= @rhn_username %>
<% end -%>

<% unless (mailto = @mailto) == 'UNSET' -%>
mailto = <%= mailto %>
<% end -%>
<% unless (smtp_server = @smtp_server) == 'UNSET' -%>
smtp-server = <%= smtp_server %>
<% end -%>
<% unless (hardlink = @hardlink) == 'UNSET' -%>
hardlink = <%= hardlink %>
<% end -%>
<% unless (lftp_cleanup = @lftp_cleanup) == 'UNSET' -%>
lftp-cleanup = <%= lftp_cleanup %>
<% end -%>
<% unless (hardlink = @reposync_options) == 'UNSET' -%>
reposync-options = <%= @reposync_options %>
<% end -%>
lftp-mirror-options = -P=8
lftp-exclude-debug = no
<% unless (hardlink = @createrepo_options) == 'UNSET' -%>
createrepo-options = <%= @createrepo_options %>
<% end -%>
